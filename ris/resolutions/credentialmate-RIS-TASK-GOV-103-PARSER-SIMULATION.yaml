id: RIS-TASK-GOV-103-PARSER-SIMULATION
title: Implement Parser Extraction Simulation
type: testing
status: completed
priority: high
created: 2025-11-28
completed: 2025-11-28
bundle: "10"
version: "1.8.3"
parent_task: RIS-TASK-GOV-100-TESTING-ENGINE

objective: |
  Implement comprehensive parser simulation and extraction testing for all
  document types with varying quality levels and edge cases.

scope:
  - CME certificate extraction simulation
  - Medical license extraction simulation
  - Board certification extraction simulation
  - DEA certificate extraction simulation
  - Parser simulation matrix documentation
  - Lane test runner for parser lane

deliverables:
  - "✓ governance/testing/parser_simulation_matrix.md"
  - "✓ governance/lanes/parser/tests_runner.md"
  - "✓ tests/config/simulation_matrix.json (parser_simulations section)"

simulation_scenarios:
  cme_extraction:
    - Clean PDF (confidence > 95%)
    - Scanned PDF (confidence > 80%)
    - Poor quality (confidence > 60%)
    - Multi-page document
    - Missing fields
    - Invalid dates
    - Edge: Zero CME hours

  license_extraction:
    - Clean PDF (confidence > 95%)
    - Scanned image (confidence > 85%)
    - Multi-state licenses
    - Expired license
    - Temporary license
    - Edge: Same-day issue/expire

validation_rules:
  - EV-001: Field presence (all required fields extracted or flagged)
  - EV-002: Data type validation (dates, numbers, strings)
  - EV-003: Format validation (license patterns, date formats)
  - EV-004: Confidence threshold (≥ 60% for acceptance)
  - EV-005: Multi-value handling (multiple licenses on one page)

golden_extraction_tests:
  - CME-EXTRACT-001: Standard CME certificate → all fields
  - LIC-EXTRACT-001: CA medical license → all fields
  - LIC-EXTRACT-002: Multi-state license → all licenses
  - CME-EXTRACT-002: Scanned CME → all fields (80%+ confidence)

performance_benchmarks:
  - Single document: < 10 seconds
  - Batch (10 documents): < 60 seconds
  - Concurrent (5 documents): < 15 seconds

enforcement:
  - T2 level (merge-blocking)
  - Run on every PR touching parser code
  - Golden tests run monthly for accuracy validation
  - Failures create RIS-INC

references:
  - governance/testing/parser_simulation_matrix.md
  - governance/lanes/parser/tests_runner.md
  - apps/worker-tasks/src/tasks/document_processing/
