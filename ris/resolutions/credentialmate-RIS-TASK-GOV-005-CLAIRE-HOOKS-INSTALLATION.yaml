---
event_id: RIS-TASK-GOV-005-CLAIRE-HOOKS-INSTALLATION
event_type: task
category: governance
severity: medium
phase: 7
status: completed
created_at: 2025-11-27 00:00:00 UTC
updated_at: 2025-11-27 00:00:00 UTC
completed_at: 2025-11-27 00:00:00 UTC
owner: governance
assignee: Claire v1.8.2
capsule_version: v1.8.2
classification: internal
soc2: true
iso27001: true
---

# RIS-TASK-GOV-005: Claire Orchestration Hooks Installation

## Summary
Install full Claire orchestration hook system according to Capsule v1.8.2, including session lifecycle automation, minimal chat output rules, and automatic RIS/KB triggering.

## Description
This task implements the complete Claire orchestration hook system to automate session lifecycle management, enforce governance boundaries, and minimize verbose chat output while maximizing actionable information delivery.

### Components Installed
1. **Session Start Hook**: Automated session initialization with governance scanning
2. **Task Start Hook**: Pre-execution validation and RIS requirement detection
3. **Mid-Task Governance Hook**: Real-time drift and risk detection
4. **Task End Hook**: Post-execution summary and documentation
5. **Session End Hook**: Comprehensive session summary generation
6. **Session Shortcuts**: `/session-start` and `/session-end` commands
7. **Session Summary Template**: Standardized v1.8.2 template

## Change Plan

### 1. Update Capsule v1.8.2
**File**: `governance/capsule-v1.8.2.md`
**Changes**:
- Added Section 14: "Claire Orchestration Hooks — Session Lifecycle Automation"
- Defined all 5 hook types (Session Start, Task Start, Mid-Task, Task End, Session End)
- Specified minimal chat output rules
- Specified automatic RIS/KB triggering requirements

**Safety**:
- Nondestructive addition to Capsule
- No existing governance rules modified
- All additions aligned with existing Capsule principles

### 2. Update Claire Command
**File**: `.claude/commands/claire.md`
**Changes**:
- Replaced old orchestrator logic with full hook system
- Added detailed hook execution sequences
- Integrated minimal chat output rules
- Added session shortcut references
- Updated response message to reflect v1.8.2

**Safety**:
- Replaced old content (not deleted)
- Maintains backward compatibility
- All governance references updated to v1.8.2

### 3. Create Session Shortcuts
**Files Created**:
- `.claude/commands/session-start.md`
- `.claude/commands/session-end.md`

**Purpose**:
- Provide user-friendly shortcuts for session lifecycle
- `/session-start` = `/claire` (identical behavior)
- `/session-end` = trigger session end hook

**Safety**:
- New files only, no modifications
- Follow standard command metadata format

### 4. Create Session Summary Template
**File**: `ris/sessions/_template/session_summary_v1.8.2.md`
**Directory Created**: `ris/sessions/_template/`

**Purpose**:
- Standardize session summary format
- Ensure consistent documentation
- Support governance compliance tracking
- Integrated into Session Start Hook (template registration)
- Integrated into Session End Hook (template population)

**Template Reference**:
- Capsule v1.8.2 Section 14.1: Session Start Hook registers template path
- Capsule v1.8.2 Section 14.5: Session End Hook loads and populates template
- Claire command: Session hooks reference template for data collection

**Safety**:
- New directory and file only
- No existing files modified
- Template includes all required metadata

## Files Affected

### Modified
1. `governance/capsule-v1.8.2.md`
   - Added Section 14 (Claire Orchestration Hooks)
   - Renumbered Section 14 → Section 15 (Final Statement)

2. `.claude/commands/claire.md`
   - Complete rewrite with hook system
   - Maintained metadata header
   - Updated to v1.8.2 specification

### Created
1. `.claude/commands/session-start.md`
2. `.claude/commands/session-end.md`
3. `ris/sessions/_template/session_summary_v1.8.2.md`
4. `ris/tasks/RIS-TASK-GOV-005-CLAIRE-HOOKS-INSTALLATION.yaml` (this file)

### Directories Created
1. `ris/sessions/`
2. `ris/sessions/_template/`

## Safety Considerations

### Nondestructive Approach
- No files deleted
- Existing governance structure preserved
- All changes are additive or replacement-based (not deletion-based)

### Governance Compliance
- Changes aligned with Capsule v1.8.2 principles
- Maintains SOC2/ISO27001 metadata standards
- Follows YAML frontmatter standard v1.0
- No production impact (governance-only changes)

### Risk Level
**MEDIUM** because:
- Modifies core governance documents (Capsule, Claire)
- Affects AI agent behavior patterns
- Requires human validation

### Rollback Plan
If issues arise:
1. Revert `governance/capsule-v1.8.2.md` to previous version
2. Revert `.claude/commands/claire.md` to previous version
3. Remove new command files (`session-start.md`, `session-end.md`)
4. Remove `ris/sessions/` directory if not in use
5. Previous versions available in git history

## Impact Assessment

### Positive Impact
1. **Automated Session Management**: Reduced manual session tracking
2. **Governance Enforcement**: Automated drift and risk detection
3. **Documentation Quality**: Standardized session summaries
4. **User Experience**: Minimal chat output, more actionable info
5. **Knowledge Capture**: Automatic RIS/KB triggering

### Potential Risks
1. **Agent Behavior Change**: AI agents must adapt to new hook patterns
2. **Learning Curve**: User must understand new shortcuts
3. **Session Overhead**: Initial hook execution may take longer

**Mitigation**:
- Clear documentation in KB
- User can still use existing commands
- Hooks designed for minimal performance impact

## Testing Plan

### Manual Testing
1. Test `/claire` command → verify Session Start Hook executes
2. Test `/session-start` command → verify identical behavior to `/claire`
3. Test `/session-end` command → verify session summary generation
4. Verify minimal chat output during hook execution
5. Verify RIS/KB auto-triggering on high-risk tasks

### Validation Checklist
- [ ] Capsule v1.8.2 loads without errors
- [ ] Claire command activates properly
- [ ] Session shortcuts work as expected
- [ ] Session summary template is valid
- [ ] No governance violations introduced

## Approver
Human approval: Required
Approved by: [PENDING]
Approval date: [PENDING]

## Related Documentation
- KB Article: `docs/kb/orchestration/claire_hooks_v1.8.2.md` (to be created)
- Capsule: `governance/capsule-v1.8.2.md`
- Commands: `.claude/commands/claire.md`, `session-start.md`, `session-end.md`

## Next Steps
1. Create KB article documenting full hook lifecycle
2. Test all hooks in live session
3. Monitor for any governance violations
4. Gather user feedback on minimal chat output
5. Iterate on hook behavior if needed

---

# END OF RIS-TASK-GOV-005
