---
id: RIS-TASK-GOV-022
title: Repo Inventory Matrix (RIM) Integration
type: governance
priority: high
status: completed
created: 2025-11-28
completed: 2025-11-28
capsule: v1.8.2
classification: T1
bundle: 2
---

# Repo Inventory Matrix (RIM) Integration

## Objective
Integrate Repo Inventory Matrix (RIM) into all orchestration commands to enforce canonical directory structure and detect unauthorized drift.

## RIM Components
- **Location**: governance/inventory/rim.json
- **Canonical Directories**: .claude/commands, governance, governance/provenance, governance/provenance/ledger, governance/inventory, ris/tasks, ris/incidents, ris/sessions, docs/kb, sessions/templates, zdelete
- **Critical Files**: Capsule, orchestration commands, Bundle 2 engines

## Rules Implemented
- BLOCK on unauthorized directory creation
- Auto-check directory placement on file creation
- Drift detection against canonical structure
- Final validation before session-end push

## Scope
- /work.md
- /session-start.md
- /session-end.md
- /checkup.md
- /checkup-deep.md

## Implementation

### Commands Modified
- **.claude/work.md**: Added RIM drift check on boot, hook for auto-placement validation
- **.claude/commands/session-start.md**: Added RIM directory structure verification
- **.claude/commands/session-end.md**: Added RIM final validation, blocks push on drift
- **.claude/commands/checkup.md**: Added RIM drift detection to unresolved items
- **.claude/commands/checkup-deep.md**: Added RIM violation scanning against governance/inventory/rim.json

### Hook Behavior
- Auto-check file placement on creation
- Report drift in machine-readable output
- Block push if unauthorized directories detected
- Log RIM status to PLE

## Validation
- [x] RIM engine loaded in all commands
- [x] Drift check on session start
- [x] Placement validation hook registered
- [x] Final validation before push
- [x] Drift reported in machine-readable output
- [x] RIM violations counted in checkup-deep

## Related
- governance/inventory/rim.json
- RIS-TASK-GOV-020 (PLE Integration)
- RIS-TASK-GOV-021 (Task Classification)
- RIS-TASK-GOV-023 (GFE Integration)

## KB Entry
docs/kb/governance/rim_v1.8.3.md
