---
resolution_id: RIS-RESOLUTION-037
title: Dashboard Stats Cards Redesign - 5-Card Glass Morphism Layout
status: resolved
priority: medium
date_created: 2025-12-09
date_resolved: 2025-12-09
category: feature
lane: frontend

problem:
  description: |
    Dashboard stats cards had inaccurate data display and poor visual distinction.
    Cards showed 0 for At Risk and CME when data existed. Cards blended into
    gradient background making them hard to read.
  root_cause: |
    1. CME counting included expired licenses (should only count active)
    2. "At Risk" tracked CME deadlines, not license expiration
    3. Cards used semi-transparent white without enough contrast

solution:
  approach: Split into 5 cards with license-based counting and glass morphism styling
  files_changed:
    - apps/backend-api/src/contexts/dashboard/api/dashboard_endpoints.py: License-based counting logic
    - apps/backend-api/src/contexts/dashboard/schemas/dashboard_schemas.py: New schema fields
    - apps/frontend-web/src/app/dashboard/page.tsx: 5-card glass morphism design
    - apps/frontend-web/src/lib/api.ts: TypeScript interface updates
  code_pattern: |
    # Backend counting logic
    if days_remaining <= 0:
        is_expired = True
        licenses_expired_recent += 1 if abs(days_remaining) < 365 else 0
        licenses_expired_archived += 1 if abs(days_remaining) >= 365 else 0
    elif days_remaining <= 90:
        licenses_at_risk += 1
        licenses_active += 1
    else:
        licenses_active += 1

    # Only count active for CME
    if not is_expired:
        cme_total_states += 1

validation:
  method: Playwright screenshot after login to dashboard
  result: pass

lessons_learned:
  - License expiration and CME compliance are distinct concepts - display separately
  - Glass morphism with green tint provides better contrast on gradient backgrounds
  - 5 cards allow clear separation of license vs CME status

tags:
  - dashboard
  - ux
  - stats-cards
  - glass-morphism
  - license-tracking

related:
  session: SESSION-20251209-2130-dashboard-welcome-pending-ux
  known_issue: CME Behind shows 0 because no CME cycles linked in DB
---
