---
id: RIS-TASK-GOV-042-SANDBOX-APPLY-GATE
title: "Sandbox Apply Gate Implementation"
category: governance
priority: high
status: completed
created: 2025-11-28
completed: 2025-11-28
assignee: claire
tags: [governance, sandbox, apply-rules, bundle-4, v1.8.3]
classification: T1
risk_level: MEDIUM
capsule: v1.8.2
governed_by_capsule: v1.8.2
---

## Objective
Implement apply gate requirements and rules for safely moving validated files from sandbox to repository.

## Description
Created comprehensive apply rules defining how validated files are safely applied to the repository using git-traceable methods (git mv) with TAM-based auto-execution.

## Deliverables
- [x] Apply gate requirements specification
- [x] Three application methods (git mv, content merge, archive)
- [x] TAM integration for risk-based auto-apply
- [x] Apply rejection handling
- [x] Batch application workflow
- [x] Rollback procedures
- [x] Emergency bypass protocol

## Apply Gate Requirements
Files eligible for application only if ALL true:
1. File in `.sandbox/validated/`
2. All seven validation gates passed
3. Target path valid per FPG
4. Provenance entry created
5. TAM rules satisfied

## Application Methods
1. **Git Move (Primary)**: `git mv .sandbox/validated/FILE TARGET_PATH` - fully traceable
2. **Content Merge (Secondary)**: Append/prepend/section replace for existing files
3. **Archive (Tertiary)**: Move to `zdelete/archive/` for superseded files

## TAM Integration
| Risk Level | Auto-Apply | Approval Required |
|------------|------------|-------------------|
| LOW | Yes | No |
| MEDIUM | Yes (with logging) | No |
| HIGH | No | Yes (mandatory) |
| CRITICAL | No | Yes (mandatory) |

## Apply Workflow
1. Verify file in .sandbox/validated/
2. Check apply gate requirements
3. Determine target path
4. Check for conflicts
5. Evaluate TAM rules
6. Apply file (git mv or merge)
7. Create provenance record
8. Update indexes
9. Log to session ledger

## Testing
- [x] Apply rules documented
- [x] TAM integration specified
- [x] Rollback procedures defined
- [x] Emergency bypass protocol created

## Related Documents
- [governance/sandbox/sandbox_engine.md](../../governance/sandbox/sandbox_engine.md)
- [governance/sandbox/apply_rules.md](../../governance/sandbox/apply_rules.md)
- [governance/sandbox/validation_matrix.md](../../governance/sandbox/validation_matrix.md)

## Success Criteria
- [x] Apply gate requirements defined
- [x] All application methods documented
- [x] TAM integration operational
- [x] Safety guarantees verified (git-tracked, provenance, rollback)

## Notes
Apply rules ensure that only validated, compliant files enter the repository using traceable methods with appropriate human oversight for high-risk changes.
